{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://go-bayes.github.io/places-of-worship/schemas/structure.schema.json",
  "title": "Place of Worship â€” Structure",
  "description": "Physical building or room used for worship on a site.",
  "type": "object",
  "additionalProperties": false,
  "required": ["structure_id", "site_id", "geometry", "status", "sources"],
  "properties": {
    "structure_id": { "type": "string", "pattern": "^[0-9a-fA-F-]{36}$" },
    "site_id": { "type": "string", "pattern": "^[0-9a-fA-F-]{36}$" },
    "geometry": { "$ref": "site.schema.json#/$defs/Geometry" },
    "building_type": {
      "type": "string",
      "description": "OSM building=* value if known (e.g., church, mosque, synagogue, temple, chapel, cathedral, monastery, shrine, pagoda, gurdwara, religious)."
    },
    "levels": { "type": "integer", "minimum": 0 },
    "height_m": { "type": "number", "minimum": 0 },
    "wheelchair": { "type": "string", "enum": ["yes", "no", "limited", "designated", "unknown"] },
    "heritage_status": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "scheme": { "type": "string", "description": "e.g., NZL-HNZPT, UNESCO." },
        "id": { "type": "string" },
        "label": { "type": "string" }
      }
    },
    "construction": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "start_year": { "type": ["integer", "null"] },
        "end_year": { "type": ["integer", "null"] }
      }
    },
    "capacity_estimate": { "type": ["integer", "null"] },
    "status": { "type": "string", "enum": ["active", "repurposed", "derelict", "demolished", "unknown"] },
    "sameAs": { "type": "array", "items": { "type": "string", "format": "uri" } },
    "tags_raw": { "type": "object", "additionalProperties": { "type": ["string", "number", "boolean", "null"] } },
    "sources": { "type": "array", "minItems": 1, "items": { "$ref": "site.schema.json#/$defs/Source" } }
  },
  "x_crosswalk": {
    "osm": {
      "fields": {
        "building_type": "building",
        "levels": "building:levels",
        "height_m": "height",
        "wheelchair": "wheelchair",
        "heritage_status.label": "heritage",
        "construction.start_year": "start_date",
        "construction.end_year": "end_date"
      }
    },
    "schema.org": {
      "@type": "Place",
      "fields": {
        "geometry": "geo",
        "wheelchair": "amenityFeature",
        "heritage_status": "amenityFeature"
      }
    }
  }
}